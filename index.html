<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Sarah Meister — UI/UX & 3D</title>

<style>
  :root{
    --bg0:#f7f9fc;
    --bg1:#eef3f8;

    --ink:#0b1320;
    --ink2:rgba(11,19,32,.72);

    --r: 26px;
    --padx: clamp(14px, 4vw, 60px);
    --max: 1120px;

    /* more color detail behind glass so blur is visible */
    --c1: rgba(140,210,255,.34);
    --c2: rgba(205,175,255,.28);
    --c3: rgba(255,210,170,.20);
  }

  * , *::before, *::after{ box-sizing:border-box; }
  html, body{ width:100%; max-width:100%; overflow-x:hidden; margin:0; }
  html{ scroll-behavior:smooth; }

  body{
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color: var(--ink);

    background:
      radial-gradient(540px 360px at 18% 18%, rgba(124, 92, 255, .20), transparent 60%),
      radial-gradient(560px 380px at 82% 22%, rgba(0, 224, 255, .16), transparent 62%),
      radial-gradient(720px 520px at 70% 86%, rgba(255, 110, 199, .12), transparent 65%),
      radial-gradient(1200px 760px at 20% 0%, rgba(255,255,255,.92), transparent 62%),
      radial-gradient(1000px 700px at 85% 15%, rgba(255,255,255,.78), transparent 62%),
      linear-gradient(180deg, var(--bg0), var(--bg1));
  }

  /* ===== Atmosphere layers ===== */
  .atmo{
    position:fixed; inset:-20%; pointer-events:none; z-index:-2;
    background:
      radial-gradient(700px 420px at 18% 20%, var(--c1), transparent 70%),
      radial-gradient(720px 460px at 78% 22%, var(--c2), transparent 72%),
      radial-gradient(820px 540px at 55% 78%, var(--c3), transparent 72%);
    filter: blur(4px);
    opacity: 1;
  }

  /* subtle noise */
  .noise{
    position:fixed; inset:0; pointer-events:none; z-index:-1;
    background-image:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='240' height='240' filter='url(%23n)' opacity='.20'/%3E%3C/svg%3E");
    opacity:.12;
    mix-blend-mode: overlay;
  }

  .container{
    width:min(var(--max), calc(100% - (var(--padx) * 2)));
    margin:0 auto;
  }

  /* ===== NAV (rechtsbündig) ===== */
  nav{
    position:sticky; top:0; z-index:40;
    padding: 14px var(--padx);
    display:flex; align-items:center; gap:14px;

    background: rgba(247,249,252,.14);
    border-bottom: 1px solid rgba(255,255,255,.26);

    backdrop-filter: blur(12px) saturate(1.6) contrast(1.06);
    -webkit-backdrop-filter: blur(12px) saturate(1.6) contrast(1.06);
  }

  .brand{
    display:flex; align-items:baseline; gap:10px;
    font-weight:750; letter-spacing:.02em;
  }
  .brand small{
    font-weight:650;
    font-size:11px;
    letter-spacing:.18em;
    text-transform:uppercase;
    color: rgba(11,19,32,.50);
  }

  .nav-right{
    margin-left:auto;
    display:flex;
    align-items:center;
    gap:12px;
  }

  .nav-links{ display:flex; gap:10px; align-items:center; }
  .nav-links a{
    text-decoration:none;
    color: rgba(11,19,32,.70);
    font-weight:600;
    font-size:14px;
    padding:10px 12px;
    border-radius:999px;
    transition: background .18s ease, transform .18s ease, color .18s ease;
  }
  .nav-links a:hover{ background: rgba(255,255,255,.28); color: var(--ink); transform: translateY(-1px); }

  /* Kontakt als Button rechts außen */
  .nav-btn{
    display:inline-flex; align-items:center; justify-content:center;
    padding: 10px 16px;
    border-radius: 999px;
    text-decoration:none;
    font-weight: 700;
    color: rgba(11,19,32,.88);

    background: rgba(255,255,255,.16);
    border: 1px solid rgba(255,255,255,.62);
    border-bottom-color: rgba(11,19,32,.12);

    box-shadow:
      0 16px 38px rgba(10,18,35,.08),
      inset 0 1px 0 rgba(255,255,255,.75),
      inset 0 -12px 22px rgba(11,19,32,.06);

    backdrop-filter: blur(10px) saturate(1.35);
    -webkit-backdrop-filter: blur(10px) saturate(1.35);

    transition: transform .18s ease, background .18s ease;
  }
  .nav-btn:hover{ transform: translateY(-2px); background: rgba(255,255,255,.22); }

  /* ===== CLEAR LIQUID GLASS ===== */
  .glass{
    position:relative;
    overflow:hidden;
    border-radius: var(--r);

    background: linear-gradient(
      180deg,
      rgba(255,255,255,.10),
      rgba(255,255,255,.03)
    );

    border: 1px solid rgba(255,255,255,.45);
    border-right-color: rgba(255,255,255,.26);
    border-bottom-color: rgba(11,19,32,.08);

    box-shadow:
      0 40px 120px rgba(10,18,35,.12),
      0 15px 45px rgba(10,18,35,.08),
      inset 0 1px 0 rgba(255,255,255,.90),
      inset 0 -20px 35px rgba(11,19,32,.05);

    backdrop-filter: blur(12px) saturate(1.6) contrast(1.08);
    -webkit-backdrop-filter: blur(12px) saturate(1.6) contrast(1.08);

    transform: translateZ(0);
    transition: transform .25s ease, box-shadow .25s ease;
  }

  .glass::after{
    content:"";
    position:absolute;
    inset: 1px;
    border-radius: calc(var(--r) - 1px);
    pointer-events:none;
    box-shadow:
      inset 0 0 0 1px rgba(255,255,255,.16),
      inset 0 0 0 2px rgba(255,255,255,.06);
    opacity: 1;
  }

  .glass::before{
    content:"";
    position:absolute;
    inset:-40%;
    background: linear-gradient(
      120deg,
      transparent 35%,
      rgba(255,255,255,.9) 50%,
      transparent 65%
    );
    transform: translateX(-40%) rotate(8deg);
    opacity:.22;
    pointer-events:none;
    transition: opacity .25s ease, transform .7s cubic-bezier(.2,.9,.2,1);
  }

  .glass:hover{
    transform: translateY(-6px);
    box-shadow:
      0 52px 170px rgba(10,18,35,.14),
      0 20px 58px rgba(10,18,35,.10),
      inset 0 1px 0 rgba(255,255,255,.92),
      inset 0 -24px 40px rgba(11,19,32,.05);
  }
  .glass:hover::before{
    opacity:.28;
    transform: translateX(35%) rotate(8deg);
  }

  /* ===== HERO ===== */
  .hero{
    position:relative;
    padding: clamp(64px, 9vh, 120px) 0 70px;
  }

  .hero-grid{
    display:grid;
    grid-template-columns: 1fr minmax(320px, 520px);
    gap: clamp(18px, 4vw, 44px);
    align-items:center;
  }
  @media (max-width: 980px){
    .hero-grid{ grid-template-columns: 1fr; }
  }

  .kicker{
    display:inline-block;
    letter-spacing:.18em;
    text-transform:uppercase;
    font-size:12px;
    color: rgba(11,19,32,.55);
    margin-bottom: 14px;
  }
  h1{
    margin:0 0 14px;
    font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
    font-weight: 620;
    letter-spacing:-0.02em;
    line-height:1.02;
    font-size: clamp(38px, 5.6vw, 74px);
  }
  .sub{
    max-width: 70ch;
    margin:0 0 22px;
    color: rgba(11,19,32,.70);
    font-size: 16.5px;
    line-height: 1.7;
  }

  .actions{ display:flex; gap:12px; flex-wrap:wrap; }

  /* ===== Buttons ===== */
  .btn{
    display:inline-flex; align-items:center; justify-content:center;
    padding: 12px 16px;
    border-radius: 999px;
    text-decoration:none;
    font-weight: 650;
    color: rgba(11,19,32,.85);

    background: rgba(255,255,255,.12);
    border: 1px solid rgba(255,255,255,.52);
    border-bottom-color: rgba(11,19,32,.10);

    box-shadow:
      0 16px 38px rgba(10,18,35,.08),
      inset 0 1px 0 rgba(255,255,255,.80),
      inset 0 -12px 22px rgba(11,19,32,.05);

    backdrop-filter: blur(10px) saturate(1.5) contrast(1.06);
    -webkit-backdrop-filter: blur(10px) saturate(1.5) contrast(1.06);

    transition: transform .18s ease, background .18s ease;
  }
  .btn:hover{ transform: translateY(-2px); background: rgba(255,255,255,.16); }

  .btn-primary{
    background: rgba(11,19,32,.92);
    color: rgba(255,255,255,.92);
    border-color: rgba(11,19,32,.18);
    box-shadow: 0 18px 42px rgba(11,19,32,.14);
    backdrop-filter:none;
    -webkit-backdrop-filter:none;
  }

  /* ===== Bubble Area rechts im Hero ===== */
  .bubble-area{
    position:relative;
    height: 420px;
    overflow:hidden;
    user-select:none;
    touch-action:none;
  }
  @media (max-width: 980px){
    .bubble-area{ height: 360px; }
  }
  #liquidBubbles{
    width:100%;
    height:100%;
    display:block;
  }

  /* ===== Sections / Grid ===== */
  .section{ padding: 34px 0 0; }
  .section-title{
    text-align:center;
    font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
    font-weight: 650;
    letter-spacing:.18em;
    text-transform:uppercase;
    font-size:12px;
    color: rgba(11,19,32,.55);
    margin: 26px 0 14px;
  }
  .grid{
    display:grid;
    grid-template-columns: repeat(12, minmax(0,1fr));
    gap:14px;
    margin: 14px 0 40px;
  }
  .span-6{ grid-column: span 6; }
  .span-4{ grid-column: span 4; }
  @media (max-width: 980px){
    .grid{ grid-template-columns: repeat(6, minmax(0,1fr)); }
    .span-4,.span-6{ grid-column: span 6; }
  }
  @media (max-width: 640px){
    .grid{ grid-template-columns: 1fr; }
    .span-4,.span-6{ grid-column: 1 / -1; }
  }

  .pad{ padding: 18px 18px 16px; }
  .card-head{ display:flex; justify-content:space-between; align-items:baseline; gap:10px; }
  .title{ margin:0; font-weight: 760; font-size: 15px; }
  .year{ font-size: 13px; font-weight: 700; color: rgba(11,19,32,.55); }
  .desc{ margin:8px 0 0; color: rgba(11,19,32,.70); font-size: 13.5px; line-height: 1.55; }

  /* media area */
  .media{
    height: 170px;
    border-bottom: 1px solid rgba(11,19,32,.06);
    background:
      radial-gradient(900px 320px at 30% 0%, rgba(255,255,255,.78), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,0));
    position: relative;
    overflow:hidden;
  }
  .media::before{
    content:"";
    position:absolute; inset:-30%;
    background:
      radial-gradient(220px 140px at 22% 30%, rgba(255,255,255,.46), transparent 70%),
      radial-gradient(240px 160px at 74% 40%, rgba(185,220,255,.22), transparent 74%);
    filter: blur(10px);
    opacity:.60;
    pointer-events:none;
  }

  .tags{ display:flex; gap:8px; flex-wrap:wrap; margin-top: 12px; }
  .tag{
    font-size: 12px;
    padding: 6px 10px;
    border-radius: 999px;

    background: rgba(255,255,255,.10);
    border: 1px solid rgba(255,255,255,.50);
    border-bottom-color: rgba(11,19,32,.10);
    color: rgba(11,19,32,.70);

    box-shadow:
      0 12px 26px rgba(10,18,35,.06),
      inset 0 1px 0 rgba(255,255,255,.75),
      inset 0 -10px 18px rgba(11,19,32,.05);

    backdrop-filter: blur(9px) saturate(1.4) contrast(1.05);
    -webkit-backdrop-filter: blur(9px) saturate(1.4) contrast(1.05);
  }

  footer{
    padding: 26px 0 44px;
    color: rgba(11,19,32,.55);
    font-size: 13px;
    text-align:center;
  }

  .tilt{ transform-style: preserve-3d; }

  @media (prefers-reduced-motion: reduce){
    .glass, .glass::before, .btn{ transition:none !important; }
  }

  /* ===== Fallback if backdrop-filter not supported ===== */
  @supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
    .glass, nav, .btn, .tag, .nav-btn {
      backdrop-filter: none !important;
      -webkit-backdrop-filter: none !important;
      background: rgba(255,255,255,.70) !important;
      border-color: rgba(11,19,32,.08) !important;
      box-shadow:
        0 22px 70px rgba(10,18,35,.12),
        inset 0 1px 0 rgba(255,255,255,.75) !important;
    }
  }
</style>
</head>

<body>
  <div class="atmo" aria-hidden="true"></div>
  <div class="noise" aria-hidden="true"></div>

  <nav>
    <div class="brand">S.M. <small>Portfolio</small></div>

    <div class="nav-right">
      <div class="nav-links">
        <a href="#projekte">Projekte</a>
        <a href="#leistungen">Leistungen</a>
        <a href="#ueber">Über mich</a>
      </div>
      <a class="nav-btn" href="#kontakt">Kontakt</a>
    </div>
  </nav>

  <main class="container">
    <section class="hero" id="top">
      <div class="hero-grid">
        <div>
          <span class="kicker">Digitale Ökosysteme · Räume der Intuition & Interaktion</span>
          <h1>UI/UX Designerin<br>&amp; 3D Artist</h1>
          <p class="sub">
            Intelligente Interfaces, lichtgeführte Räume und kuratierte visuelle Systeme —
            strukturiert, elegant und lebendig.
          </p>
          <div class="actions">
            <a class="btn btn-primary" href="#projekte">Projekte ansehen →</a>
            <a class="btn" href="#leistungen">Leistungen</a>
          </div>
        </div>

        <div class="bubble-area" aria-label="Interaktive Glasblasen">
          <canvas id="liquidBubbles"></canvas>
        </div>
      </div>
    </section>

    <section class="section" id="leistungen">
      <div class="section-title">Kompetenzen</div>
      <div class="grid">
        <div class="glass pad span-6 tilt">
          <h3 style="margin:0 0 8px;font-size:16px;font-weight:800;">UI/UX Design</h3>
          <div style="color:rgba(11,19,32,.72);line-height:1.7;font-size:14px;">
            User Flows · Informationsarchitektur · Interaction Design · Design Systems · Prototyping · Testing
          </div>
        </div>
        <div class="glass pad span-6 tilt">
          <h3 style="margin:0 0 8px;font-size:16px;font-weight:800;">3D Art & Worldbuilding</h3>
          <div style="color:rgba(11,19,32,.72);line-height:1.7;font-size:14px;">
            Scene Composition · Lighting (lichtbetont) · Unreal Engine · Blender · Materials · Rendering
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="projekte">
      <div class="section-title">Ausgewählte Projekte</div>
      <div class="grid">
        <a class="glass span-4 tilt" href="#" style="text-decoration:none;color:inherit;">
          <div class="media"></div>
          <div class="pad">
            <div class="card-head">
              <h3 class="title">Sternburg App (UI)</h3>
              <div class="year">2025</div>
            </div>
            <p class="desc">Modernes UI für eine Marke — Look, Typo & spielerisches System.</p>
            <div class="tags">
              <span class="tag">UI</span><span class="tag">Figma</span><span class="tag">Prototyp</span>
            </div>
          </div>
        </a>

        <a class="glass span-4 tilt" href="#" style="text-decoration:none;color:inherit;">
          <div class="media"></div>
          <div class="pad">
            <div class="card-head">
              <h3 class="title">Das stille Ritual</h3>
              <div class="year">2026</div>
            </div>
            <p class="desc">Reduzierte Serie — Licht als Erzählung, klare Inszenierung.</p>
            <div class="tags">
              <span class="tag">Photography</span><span class="tag">Series</span><span class="tag">Light</span>
            </div>
          </div>
        </a>

        <a class="glass span-4 tilt" href="#" style="text-decoration:none;color:inherit;">
          <div class="media"></div>
          <div class="pad">
            <div class="card-head">
              <h3 class="title">Unreal — Magische Welt</h3>
              <div class="year">2026</div>
            </div>
            <p class="desc">Atmosphärisches Worldbuilding — Uhren, Bücher, Licht, Tiefe.</p>
            <div class="tags">
              <span class="tag">Unreal</span><span class="tag">3D</span><span class="tag">Lookdev</span>
            </div>
          </div>
        </a>
      </div>
    </section>

    <section class="section" id="ueber">
      <div class="section-title">Über mich</div>
      <div class="glass pad tilt">
        <p style="margin:0;color:rgba(11,19,32,.72);line-height:1.7;">
          Ich verbinde klare UI-Systeme mit räumlicher, lichtgeführter Gestaltung.
          Mein Stil ist clean, modular und atmosphärisch — damit Projekte professionell wirken
          und trotzdem Magie behalten.
        </p>
      </div>
    </section>

    <section class="section" id="kontakt">
      <div class="section-title">Kontakt</div>
      <div class="glass pad tilt">
        <p style="margin:0;color:rgba(11,19,32,.72);line-height:1.7;">
          <strong>E-Mail:</strong> <span style="opacity:.75;">dein.name@mail.de</span> ·
          <strong>Instagram:</strong> <span style="opacity:.75;">@eymeistern</span>
        </p>
      </div>
    </section>

    <footer>© <span id="y"></span> Sarah Meister — UI/UX & 3D</footer>
  </main>

<script>
  // year
  document.getElementById("y").textContent = new Date().getFullYear();

  // optional: subtle tilt (desktop only)
  const cards = document.querySelectorAll(".tilt");
  const hasFinePointer = window.matchMedia("(pointer: fine)").matches;

  if (hasFinePointer) {
    cards.forEach(el => {
      el.addEventListener("mousemove", (e) => {
        const r = el.getBoundingClientRect();
        const x = (e.clientX - r.left) / r.width - 0.5;
        const y = (e.clientY - r.top) / r.height - 0.5;
        el.style.transform = `translateY(-2px) rotateX(${(-y*4).toFixed(2)}deg) rotateY(${(x*5).toFixed(2)}deg)`;
      });
      el.addEventListener("mouseleave", () => { el.style.transform = ""; });
    });
  }

  /* ===== Liquid bubbles (glassier, thinner rim, gentle wind, no shadow) ===== */
  const canvas = document.getElementById("liquidBubbles");
  const ctx = canvas.getContext("2d", { alpha: true });

  let bubbles = [];
  let mouse = { x: null, y: null, active: false };

  // wind + edge padding (prevents "box edge" shadow look)
  const MOUSE_RANGE = 220;  // bigger radius, softer effect
  const MOUSE_PUSH  = 0.55; // gentle push (wind)
  const EDGE_PAD    = 16;   // keep bubbles away from canvas edges

  function resizeBubbles(){
    const rect = canvas.parentElement.getBoundingClientRect();
    const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    canvas.width = Math.floor(rect.width * dpr);
    canvas.height = Math.floor(rect.height * dpr);
    canvas.style.width = rect.width + "px";
    canvas.style.height = rect.height + "px";
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }
  resizeBubbles();
  window.addEventListener("resize", resizeBubbles);

  class Bubble{
    constructor(){
      const rect = canvas.parentElement.getBoundingClientRect();
      const w = Math.max(120, rect.width);
      const h = Math.max(120, rect.height);

      this.radius = 26 + Math.random() * 42;

      // start away from edges
      this.x = (this.radius + EDGE_PAD) + Math.random() * (w - (this.radius*2 + EDGE_PAD*2));
      this.y = (this.radius + EDGE_PAD) + Math.random() * (h - (this.radius*2 + EDGE_PAD*2));

      this.vx = (Math.random() - 0.5) * 1.0;
      this.vy = (Math.random() - 0.5) * 1.0;

      this.mass = this.radius * 0.09;
      this.wobble = Math.random() * Math.PI * 2;
    }

    update(){
      this.wobble += 0.02;

      // subtle drift (keep it calm)
      this.vx += Math.sin(this.wobble) * 0.0014;
      this.vy += Math.cos(this.wobble) * 0.0014;

      this.x += this.vx;
      this.y += this.vy;

      // damping
      this.vx *= 0.993;
      this.vy *= 0.993;

      const rect = canvas.parentElement.getBoundingClientRect();
      const w = rect.width, h = rect.height;

      // keep away from edges (no hard contact)
      const minX = this.radius + EDGE_PAD;
      const maxX = w - this.radius - EDGE_PAD;
      const minY = this.radius + EDGE_PAD;
      const maxY = h - this.radius - EDGE_PAD;

      if(this.x < minX){ this.x = minX; this.vx *= -0.70; }
      if(this.x > maxX){ this.x = maxX; this.vx *= -0.70; }
      if(this.y < minY){ this.y = minY; this.vy *= -0.70; }
      if(this.y > maxY){ this.y = maxY; this.vy *= -0.70; }

      // gentle mouse "wind" (softer than repulsion)
      if(mouse.active){
        const dx = this.x - mouse.x;
        const dy = this.y - mouse.y;
        const dist = Math.hypot(dx, dy) || 0.0001;

        if(dist < MOUSE_RANGE){
          const t = 1 - (dist / MOUSE_RANGE); // 0..1
          const push = MOUSE_PUSH * (t * t);  // quadratic falloff = smooth
          this.vx += (dx / dist) * push;
          this.vy += (dy / dist) * push;
        }
      }
    }

    draw(){
      const r = this.radius * (1 + Math.sin(this.wobble) * 0.015);

      // main glass fill (clear, high separation)
      const g = ctx.createRadialGradient(
        this.x - r * 0.34, this.y - r * 0.34, r * 0.08,
        this.x, this.y, r
      );
      g.addColorStop(0.00, "rgba(255,255,255,0.98)");
      g.addColorStop(0.22, "rgba(255,255,255,0.44)");
      g.addColorStop(0.58, "rgba(255,255,255,0.14)");
      g.addColorStop(1.00, "rgba(255,255,255,0.05)");

      ctx.beginPath();
      ctx.arc(this.x, this.y, r, 0, Math.PI*2);
      ctx.fillStyle = g;
      ctx.fill();

      // inner shadow (depth) - subtle
      ctx.save();
      ctx.globalCompositeOperation = "multiply";
      const inner = ctx.createRadialGradient(this.x, this.y, r*0.38, this.x, this.y, r);
      inner.addColorStop(0, "rgba(10,18,35,0.00)");
      inner.addColorStop(1, "rgba(10,18,35,0.10)");
      ctx.beginPath();
      ctx.arc(this.x, this.y, r, 0, Math.PI*2);
      ctx.fillStyle = inner;
      ctx.fill();
      ctx.restore();

      // rainbow refraction rim (thin & premium)
      ctx.save();
      ctx.globalCompositeOperation = "screen";
      ctx.lineWidth = Math.max(1.1, r * 0.028);

      const arcs = [
        { col:"rgba(255,80,180,0.18)", ox:-0.8, oy:-0.45 },
        { col:"rgba(80,220,255,0.16)", ox: 0.9, oy:-0.25 },
        { col:"rgba(255,220,80,0.12)", ox: 0.0, oy: 0.85 }
      ];

      for(const a of arcs){
        ctx.strokeStyle = a.col;
        ctx.beginPath();
        ctx.arc(this.x + a.ox, this.y + a.oy, r*0.985, -0.25, Math.PI*1.50);
        ctx.stroke();
      }
      ctx.restore();

      // thinner outer rim
      ctx.strokeStyle = "rgba(255,255,255,0.74)";
      ctx.lineWidth = 1.15;
      ctx.beginPath();
      ctx.arc(this.x, this.y, r, 0, Math.PI*2);
      ctx.stroke();

      // thin inner rim
      ctx.strokeStyle = "rgba(255,255,255,0.26)";
      ctx.lineWidth = 0.9;
      ctx.beginPath();
      ctx.arc(this.x, this.y, r*0.92, 0, Math.PI*2);
      ctx.stroke();

      // highlights
      ctx.save();
      ctx.globalCompositeOperation = "screen";

      ctx.beginPath();
      ctx.arc(this.x - r*0.28, this.y - r*0.30, r*0.28, 0, Math.PI*2);
      ctx.fillStyle = "rgba(255,255,255,0.18)";
      ctx.fill();

      ctx.beginPath();
      ctx.arc(this.x - r*0.16, this.y - r*0.42, r*0.12, 0, Math.PI*2);
      ctx.fillStyle = "rgba(255,255,255,0.24)";
      ctx.fill();

      ctx.restore();
    }
  }

  function resolveCollision(a, b){
    const dx = b.x - a.x;
    const dy = b.y - a.y;
    const dist = Math.hypot(dx, dy) || 0.0001;
    const minDist = a.radius + b.radius;

    if(dist < minDist){
      const nx = dx / dist;
      const ny = dy / dist;
      const overlap = (minDist - dist);

      a.x -= nx * overlap * 0.5;
      a.y -= ny * overlap * 0.5;
      b.x += nx * overlap * 0.5;
      b.y += ny * overlap * 0.5;

      // softer collision response
      const rvx = b.vx - a.vx;
      const rvy = b.vy - a.vy;
      const velAlongNormal = rvx * nx + rvy * ny;
      if(velAlongNormal > 0) return;

      const restitution = 0.78;
      const j = -(1 + restitution) * velAlongNormal / (1/a.mass + 1/b.mass);

      const impX = j * nx;
      const impY = j * ny;

      a.vx -= impX / a.mass;
      a.vy -= impY / a.mass;
      b.vx += impX / b.mass;
      b.vy += impY / b.mass;

      a.vx *= 0.996; a.vy *= 0.996;
      b.vx *= 0.996; b.vy *= 0.996;
    }
  }

  for(let i=0;i<7;i++) bubbles.push(new Bubble());

  canvas.addEventListener("mousemove", (e)=>{
    const rect = canvas.getBoundingClientRect();
    mouse.x = e.clientX - rect.left;
    mouse.y = e.clientY - rect.top;
    mouse.active = true;
  });
  canvas.addEventListener("mouseenter", ()=>{ mouse.active = true; });
  canvas.addEventListener("mouseleave", ()=>{
    mouse.active = false;
    mouse.x = null; mouse.y = null;
  });

  function animateBubbles(){
    const rect = canvas.parentElement.getBoundingClientRect();
    ctx.clearRect(0,0,rect.width,rect.height);

    for(let i=0;i<bubbles.length;i++){
      bubbles[i].update();
      for(let j=i+1;j<bubbles.length;j++){
        resolveCollision(bubbles[i], bubbles[j]);
      }
    }

    bubbles.forEach(b => b.draw());
    requestAnimationFrame(animateBubbles);
  }
  animateBubbles();
</script>
</body>
</html>
